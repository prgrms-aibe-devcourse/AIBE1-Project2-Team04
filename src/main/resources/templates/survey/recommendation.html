<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gigs - 맞춤 강의 추천</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="recommendation-container">
    <div class="recommendation-header">
        <h2>맞춤형 강의 추천 결과 🎮</h2>
        <p class="recommendation-subtitle" th:text="${recommendation.overallRecommendation}">설문 결과에 따른 맞춤형 강의를 추천해 드립니다.</p>
        <div class="recommendation-actions">
            <a th:href="@{/survey/start}" class="btn-outline">설문 다시 하기</a>
        </div>
    </div>

    <div class="lecture-list">
        <!-- 추천 강의 목록 -->
        <div class="lecture-card" th:each="lecture : ${recommendation.recommendations}" th:data-lecture-id="${lecture.lectureId}">
            <div class="lecture-image">
                <img th:src="${lecture.imageUrl != null ? lecture.imageUrl : '/images/default-lecture.png'}" alt="강의 이미지">
                <div class="lecture-price" th:text="${#numbers.formatCurrency(lecture.price)}">가격</div>
            </div>

            <div class="lecture-info">
                <div class="lecture-title" th:text="${lecture.title}">강의 제목</div>
                <div class="lecture-instructor" th:text="${lecture.instructorName + ' (' + lecture.instructorCareer + ')'}">강사 이름 (경력)</div>

                <div class="recommendation-reason">
                    <h4>추천 이유</h4>
                    <p th:text="${lecture.recommendationReason}">추천 이유 설명</p>
                </div>

                <div class="expected-effect">
                    <h4>기대 효과</h4>
                    <p th:text="${lecture.expectedEffect}">기대 효과 설명</p>
                </div>
            </div>

            <div class="lecture-actions">
                <a th:href="@{'/lectures/' + ${lecture.lectureId}}" class="btn-primary">자세히 보기</a>
            </div>
        </div>
    </div>

    <!-- 추천 결과가 없을 경우 -->
    <div class="no-recommendations" th:if="${recommendation.recommendations.isEmpty()}">
        <div class="no-data-icon">📋</div>
        <h3>맞춤 강의를 찾을 수 없습니다</h3>
        <p>현재 귀하의 기준에 맞는 강의가 준비되어 있지 않습니다. 곧 더 많은 강의가 추가될 예정입니다.</p>
        <a th:href="@{/lectures}" class="btn-primary">모든 강의 보기</a>
    </div>

    <div class="recommendation-footer" th:if="${!recommendation.recommendations.isEmpty()}">
        <a th:href="@{/lectures}" class="btn-primary">모든 강의 보기</a>
    </div>
</div>

<script th:src="@{/js/recommendation.js}"></script>
</body>
</html>